###################
### KEYBINDINGS ###
###################

$mainMod = SUPER # Sets "Windows" key as main modifier

# Program definitions
$terminal = uwsm app -- alacritty
$fileManager = uwsm app -- nautilus
$menu = uwsm app -- wofi --show drun
$browser = uwsm app -- /opt/zen-browser/zen-browser.AppImage
$webapp = uwsm app -- /opt/zen-browser/zen-browser.AppImage --new-tab
$notes = uwsm app -- obsidian
$music = uwsm app -- Plexamp.AppImage
$1password = uwsm app -- 1password
$zotero = uwsm app -- zotero
$hyprsunset = uwsm app -- hyprsunset

bindd = $mainMod, Q, Terminal, exec, $terminal
bindd = $mainMod, B, Browser, exec, $browser
bindd = $mainMod, L, Lock screen, exec, hyprlock
bindd = $mainMod, C, Close window, killactive,
bindd = $mainMod, M, Music, exec, $music
bindd = $mainMod SHIFT, R, Reload Hyprland, exec, hyprctl reload
bindd = $mainMod, E, File manager, exec, $fileManager
bindd = $mainMod, V, Toggle floating, togglefloating,
bindd = $mainMod, F, Fullscreen, fullscreen,
bindd = $mainMod, I, Switch keyboard layout, exec, ~/.local/bin/hypr-scripts/keyboard-switch-notify.sh
bindd = $mainMod, O, Obsidian Markdown, exec, $notes
bindd = $mainMod, Z, Zotero reference manager, exec, $zotero
bindd = $mainMod, D, Lazy Docker, exec, $terminal -e lazydocker
bindd = $mainMod, slash, Password manager, exec, $1password
bindd = SUPER, T, Top, exec, $terminal -e btop

# Spam the internet keybinds
bindd = $mainMod SHIFT, B, Bluesky post, exec, ~/.local/bin/hypr-scripts/launch-tui-function.sh bs bs-tui

# Move workspaces to monitors using stable identifiers
# Monitor setup:
# - Main: Acer XZ321QU (ultrawide 3440x1440, landscape orientation)
# - Portrait: Acer XV240Y P (1920x1080, rotated 90Â° portrait orientation)
# - Laptop: BOE 0x094C (built-in laptop display)
# Smart monitor selection:
# - SE790C (Samsung ultrawide): main only
# - XZ321QU + XV240Y: main + secondary
# - F3T3KS2 + S24F350: main + secondary
# - BOE 0x094C: laptop screen
bindd = $mainMod SHIFT, M, Move workspace to main monitor, exec, ~/.local/bin/hypr-scripts/move-workspace-to-monitor.sh main
bindd = $mainMod SHIFT, N, Move workspace to secondary monitor, exec, ~/.local/bin/hypr-scripts/move-workspace-to-monitor.sh secondary
bindd = $mainMod SHIFT, L, Move workspace to laptop monitor, exec, ~/.local/bin/hypr-scripts/move-workspace-to-monitor.sh laptop

# Special workspace (scratchpad)
bindd = $mainMod, S, Toggle scratchpad, togglespecialworkspace, magic
bindd = $mainMod SHIFT, S, Move to scratchpad, movetoworkspace, special:magic

# Wallpaper cycling
bindd = $mainMod CTRL, M, Cycle main monitor wallpaper, exec, ~/.local/bin/hypr-scripts/cycle-wallpaper.sh main
unbind = $mainMod CTRL, N
bindd = $mainMod CTRL, N, Cycle secondary monitor wallpaper, exec, ~/.local/bin/hypr-scripts/cycle-wallpaper.sh secondary
bindd = $mainMod CTRL, L, Cycle laptop monitor wallpaper, exec, ~/.local/bin/hypr-scripts/cycle-wallpaper.sh laptop
bindd = $mainMod ALT, W, Initialize wallpapers, exec, ~/.local/bin/hypr-scripts/init-wallpapers.sh

# Blue light filter
bindd = $mainMod, G, Toggle nightlight, exec, omarchy-toggle-nightlight

# Clamshell mode - disable/enable laptop screen on lid close/open
bindl=,switch:on:Lid Switch,exec,hyprctl keyword monitor "eDP-1, disable"
bindl=,switch:off:Lid Switch,exec,hyprctl keyword monitor "eDP-1, preferred, auto, auto"

# Personal app workspace assignments
windowrulev2 = workspace special:magic, class:^(obsidian)$
windowrulev2 = maxsize 1550 9999, class:^(obsidian)$

windowrulev2 = workspace special:magic, class:Plexamp

windowrulev2 = workspace special:magic, class:^(1password)$

windowrulev2 = workspace special:magic, class:^(tidal-hifi)$

# TUI floating windows
windowrulev2 = float, class:bs-tui
windowrulev2 = center, class:bs-tui
windowrulev2 = size 800 600, class:bs-tui

windowrulev2 = workspace 2, class:^(zen)$
windowrulev2 = maxsize 1550 9999, class:^(zen)$

# Workspace-to-monitor assignments
workspace = 5, monitor:desc:ONKYO Corporation TX-SR444






