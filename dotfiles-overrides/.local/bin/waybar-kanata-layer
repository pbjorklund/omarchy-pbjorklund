#!/bin/bash
# Waybar module to show current kanata status

# Check if kanata is running
if ! pgrep -x kanata > /dev/null; then
    echo '{"text": "OFF", "class": "kanata-off", "tooltip": "Kanata is not running"}'
    exit 0
fi

# Check if space layer is active by looking at current key state
# This is a simplified approach - in reality we'd need kanata TCP or log parsing
# For now, just show that kanata is running with a simple indicator

DISPLAY="‚å®"
CLASS="kanata-running" 
TOOLTIP="Kanata is running - Home-row mods active"

echo "{\"text\": \"$DISPLAY\", \"class\": \"$CLASS\", \"tooltip\": \"$TOOLTIP\"}"